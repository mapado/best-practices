(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{137:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return i})),t.d(n,"metadata",(function(){return s})),t.d(n,"rightToc",(function(){return c})),t.d(n,"default",(function(){return u}));var r=t(2),o=t(9),a=(t(0),t(157)),i={title:"ReactJS"},s={id:"fr/react",title:"ReactJS",description:'Cette liste de bonne pratique est surtout un retour sur certaines "mauvaise pratiques" que nous avons mis dans notre code et comment les corriger.',source:"@site/docs/fr/react.md",permalink:"/best-practices/docs/fr/react",editUrl:"https://github.com/mapado/best-practices/edit/master/docs/fr/react.md",sidebar:"fr",previous:{title:"Bonnes pratiques \xe0 Mapado",permalink:"/best-practices/docs/fr"},next:{title:"Redux",permalink:"/best-practices/docs/fr/redux"}},c=[{value:"Nommage de m\xe9thodes",id:"nommage-de-m\xe9thodes",children:[]},{value:"bind(this) dans la methode <code>render</code>",id:"bindthis-dans-la-methode-render",children:[]},{value:"Element &quot;classe&quot; : fonctions anonymes dans la methode <code>render</code>",id:"element-classe--fonctions-anonymes-dans-la-methode-render",children:[]}],l={rightToc:c};function u(e){var n=e.components,t=Object(o.a)(e,["components"]);return Object(a.b)("wrapper",Object(r.a)({},l,t,{components:n,mdxType:"MDXLayout"}),Object(a.b)("p",null,'Cette liste de bonne pratique est surtout un retour sur certaines "mauvaise pratiques" que nous avons mis dans notre code et comment les corriger.'),Object(a.b)("h3",{id:"nommage-de-m\xe9thodes"},"Nommage de m\xe9thodes"),Object(a.b)("p",null,'Un m\xe9thode "r\xe9pondant" \xe0 un \xe9v\xe8nement ',Object(a.b)("inlineCode",{parentName:"p"},"onSomething")," DEVRAIT \xeatre pr\xe9fix\xe9e par ",Object(a.b)("inlineCode",{parentName:"p"},"handle"),"."),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo() {\n  handleClick() {\n    // do something\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>\n        Click\n      </button>\n    );\n  }\n}\n")),Object(a.b)("h3",{id:"bindthis-dans-la-methode-render"},"bind(this) dans la methode ",Object(a.b)("inlineCode",{parentName:"h3"},"render")),Object(a.b)("p",null,"Le binding javascript ",Object(a.b)("a",Object(r.a)({parentName:"p"},{href:"http://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/"}),"n'est pas simple"),"."),Object(a.b)("p",null,"Les nouvelles fonctionnalit\xe9s d'ECMAScript permettent de se rapprocher des autres langages et de ne plus avoir \xe0 connaitre les \"internes\", et c'est plut\xf4t bien (m\xeame si c'est encore mieux de connaitre comment \xe7a fonctionne sous le cap\xf4t)."),Object(a.b)("p",null,"Pour cette raison, le ",Object(a.b)("inlineCode",{parentName:"p"},"binding"),' et les appels de m\xe9thodes DEVRAIENT \xeatre le plus "simple" et le plus "logique" pour les d\xe9butants.'),Object(a.b)("p",null,"Cela facilite aussi la lisibilit\xe9 et la compr\xe9hension pour les d\xe9veloppeurs chevronn\xe9s."),Object(a.b)("p",null,"\ud83d\udc4e"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo extends Component {\n  handleClick(foo) {\n    // do someting\n  }\n\n  render() {\n    this.handleClick.bind(this, this.props.foo);\n\n    return <button onClick={this.handleClick}></button>;\n  }\n}\n")),Object(a.b)("p",null,"\ud83d\udc4d"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const foo = this.props.foo;\n    // do someting\n  }\n\n  render() {\n    return <button onClick={this.handleClick}></button>;\n  }\n}\n")),Object(a.b)("h3",{id:"element-classe--fonctions-anonymes-dans-la-methode-render"},'Element "classe" : fonctions anonymes dans la methode ',Object(a.b)("inlineCode",{parentName:"h3"},"render")),Object(a.b)("p",null,"De la m\xeame mani\xe8re, on NE DOIT PAS cr\xe9er des fonctions anonymes dans la m\xe9thode ",Object(a.b)("inlineCode",{parentName:"p"},"render")," pour deux raisons:"),Object(a.b)("ul",null,Object(a.b)("li",{parentName:"ul"},"Les fonctions anonymes sont reg\xe9n\xe9r\xe9es \xe0 chaque appel de ",Object(a.b)("inlineCode",{parentName:"li"},"render"),", ce qui consomme de la ressource pour rien."),Object(a.b)("li",{parentName:"ul"},"Cela rend la m\xe9thode ",Object(a.b)("inlineCode",{parentName:"li"},"render"),' moins lisible car il y a du code "m\xe9tier" dans le rendu.')),Object(a.b)("p",null,"\ud83d\udc4e"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      foo: null,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          onClick={() => {\n            this.setState({ foo: 'bar' });\n          }}\n        >\n          Hey, click-me !\n        </button>\n      </div>\n    );\n  }\n}\n")),Object(a.b)("p",null,"\ud83d\udc4d"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n\n    this.state = {\n      foo: false,\n    };\n  }\n\n  handleButtonClick() {\n    this.setState((prevState) => ({\n      foo: !prevState.foo,\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleButtonClick}>Hey, click-me !</button>\n      </div>\n    );\n  }\n}\n")),Object(a.b)("h4",{id:"exception"},"Exception"),Object(a.b)("p",null,"La seule exception \xe9tant si l'on est en train d'it\xe9rer sur une liste et que l'on doit passer un object en param\xe8tre."),Object(a.b)("p",null,"On DOIT dans tous les cas limiter la fonction anonyme \xe0 un appel d'une autre m\xe9thode pour la lisibilit\xe9."),Object(a.b)("p",null,"On PEUT alors faire comme \xe7a:"),Object(a.b)("p",null,"\ud83d\udc4d"),Object(a.b)("pre",null,Object(a.b)("code",Object(r.a)({parentName:"pre"},{className:"language-js"}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n\n    this.state = {\n      btnClicked: null,\n    };\n  }\n\n  handleButtonClick(item) {\n    this.setState({\n      btnClicked: item,\n    });\n  }\n\n  render() {\n    return (<div>\n      {this.props.myList.map(item =>\n        <button onClick={(item) => this.handleButtonClick(item)}>\n          Hey, click-me !\n        </button>\n      }\n    </div>);\n  }\n}\n")))}u.isMDXComponent=!0},157:function(e,n,t){"use strict";t.d(n,"a",(function(){return p})),t.d(n,"b",(function(){return m}));var r=t(0),o=t.n(r);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,o=function(e,n){if(null==e)return{};var t,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)t=a[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var l=o.a.createContext({}),u=function(e){var n=o.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s({},n,{},e)),t},p=function(e){var n=u(e.components);return o.a.createElement(l.Provider,{value:n},e.children)},d={inlineCode:"code",wrapper:function(e){var n=e.children;return o.a.createElement(o.a.Fragment,{},n)}},b=Object(r.forwardRef)((function(e,n){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),p=u(t),b=r,m=p["".concat(i,".").concat(b)]||p[b]||d[b]||a;return t?o.a.createElement(m,s({ref:n},l,{components:t})):o.a.createElement(m,s({ref:n},l))}));function m(e,n){var t=arguments,r=n&&n.mdxType;if("string"==typeof e||r){var a=t.length,i=new Array(a);i[0]=b;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var l=2;l<a;l++)i[l]=t[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,t)}b.displayName="MDXCreateElement"}}]);