/*! For license information please see f4666041.577cb4db.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{119:function(e,n,t){"use strict";t.r(n),t.d(n,"frontMatter",(function(){return s})),t.d(n,"metadata",(function(){return l})),t.d(n,"rightToc",(function(){return d})),t.d(n,"default",(function(){return u}));var a=t(2),r=t(6),o=(t(0),t(122)),i=t(130),c=t(129),s={title:"ReactJS"},l={id:"en/react",title:"ReactJS",description:'This best practice list is more a list of corrected "bad practices" that we had in our codebase and fixed.',source:"@site/docs/en/react.mdx",permalink:"/best-practices/docs/en/react",editUrl:"https://github.com/mapado/best-practices/edit/master/docs/en/react.mdx",sidebar:"en",previous:{title:"Mapado Best practices",permalink:"/best-practices/docs/en"},next:{title:"Redux",permalink:"/best-practices/docs/en/redux"}},d=[{value:"Method naming",id:"method-naming",children:[]},{value:"bind(this) in the <code>render</code> method",id:"bindthis-in-the-render-method",children:[]},{value:"Class element: anonymous function in the <code>render</code> method",id:"class-element-anonymous-function-in-the-render-method",children:[]}],b={rightToc:d};function u(e){var n=e.components,t=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(a.a)({},b,t,{components:n,mdxType:"MDXLayout"}),Object(o.b)("p",null,'This best practice list is more a list of corrected "bad practices" that we had in our codebase and fixed.'),Object(o.b)("h3",{id:"method-naming"},"Method naming"),Object(o.b)("p",null,'A method "handling" an event ',Object(o.b)("inlineCode",{parentName:"p"},"onSomething")," SHOULD start with ",Object(o.b)("inlineCode",{parentName:"p"},"handle"),"."),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{2,8}","{2,8}":!0}),"class Foo() {\n  handleClick() {\n    // do something\n  }\n\n  render() {\n    return (\n      <button onClick={this.handleClick}>\n        Click\n      </button>\n    );\n  }\n}\n")),Object(o.b)("h3",{id:"bindthis-in-the-render-method"},"bind(this) in the ",Object(o.b)("inlineCode",{parentName:"h3"},"render")," method"),Object(o.b)("p",null,"Binding and this in Javascript ",Object(o.b)("a",Object(a.a)({parentName:"p"},{href:"http://yehudakatz.com/2011/08/11/understanding-javascript-function-invocation-and-this/"}),"is not easy"),"."),Object(o.b)("p",null,"The new ECMAScript functionnality allow us to keep it like other programming languages and does not force us to know the \"internals\", and it's pretty cool (even if it's better to know how it works underneath)."),Object(o.b)("p",null,"For this reason, ",Object(o.b)("inlineCode",{parentName:"p"},"binding"),' and method call SHOULD be the most "easy" and "logical" way for beginners.'),Object(o.b)("p",null,"It makes it easier to read and understand the code for experienced programmer too."),Object(o.b)(i.a,{defaultValue:"good",values:[{label:"Bad \ud83d\udc4e",value:"bad"},{label:"Good \ud83d\udc4d",value:"good"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"bad",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{7}","{7}":!0}),"class Foo extends Component {\n  handleClick(foo) {\n    // do someting\n  }\n\n  render() {\n    this.handleClick.bind(this, this.props.foo);\n\n    return <button onClick={this.handleClick}></button>;\n  }\n}\n"))),Object(o.b)(c.a,{value:"good",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{5}","{5}":!0}),"class Foo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleClick = this.handleClick.bind(this);\n  }\n\n  handleClick() {\n    const foo = this.props.foo;\n    // do someting\n  }\n\n  render() {\n    return <button onClick={this.handleClick}></button>;\n  }\n}\n")))),Object(o.b)("h3",{id:"class-element-anonymous-function-in-the-render-method"},"Class element: anonymous function in the ",Object(o.b)("inlineCode",{parentName:"h3"},"render")," method"),Object(o.b)("p",null,"Same as the ",Object(o.b)("inlineCode",{parentName:"p"},"bind")," call, we MUST NOT create anonymous functions in the ",Object(o.b)("inlineCode",{parentName:"p"},"render")," method."),Object(o.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-heading"}),Object(o.b)("h5",{parentName:"div"},Object(o.b)("span",Object(a.a)({parentName:"h5"},{className:"admonition-icon"}),Object(o.b)("svg",Object(a.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(o.b)("path",Object(a.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Explanations")),Object(o.b)("div",Object(a.a)({parentName:"div"},{className:"admonition-content"}),Object(o.b)("ul",{parentName:"div"},Object(o.b)("li",{parentName:"ul"},"Anonymous functions are regenerated on each call of the ",Object(o.b)("inlineCode",{parentName:"li"},"render")," function, which consume useless resources."),Object(o.b)("li",{parentName:"ul"},"The ",Object(o.b)("inlineCode",{parentName:"li"},"render")," method is less readable, because there will be business logic in it.")))),Object(o.b)(i.a,{defaultValue:"good",values:[{label:"Pas bien \ud83d\udc4e",value:"bad"},{label:"Bien \ud83d\udc4d",value:"good"}],mdxType:"Tabs"},Object(o.b)(c.a,{value:"bad",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{14-16}","{14-16}":!0}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      foo: false,\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <button\n          onClick={() => {\n            this.setState({ foo: 'bar' });\n          }}\n        >\n          Hey, click-me !\n        </button>\n      </div>\n    );\n  }\n}\n"))),Object(o.b)(c.a,{value:"good",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{5,12-16,21}","{5,12-16,21}":!0}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n\n    this.state = {\n      foo: false,\n    };\n  }\n\n  handleButtonClick() {\n    this.setState((prevState) => ({\n      foo: !prevState.foo,\n    }));\n  }\n\n  render() {\n    return (\n      <div>\n        <button onClick={this.handleButtonClick}>Hey, click-me !</button>\n      </div>\n    );\n  }\n}\n")))),Object(o.b)("h4",{id:"exception"},"Exception"),Object(o.b)("p",null,"The only exception is if we are iterating over a list and if we must pass an item of this list as parameter."),Object(o.b)("p",null,"We MUST limit the call to calling a class method with for readability."),Object(o.b)("p",null,"We CAN do it this way:"),Object(o.b)("pre",null,Object(o.b)("code",Object(a.a)({parentName:"pre"},{className:"language-js",metastring:"{20-21}","{20-21}":!0}),"class Foo extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.handleButtonClick = this.handleButtonClick.bind(this);\n\n    this.state = {\n      btnClicked: null,\n    };\n  }\n\n  handleButtonClick(item) {\n    this.setState({\n      btnClicked: item,\n    });\n  }\n\n  render() {\n    return (<div>\n      {this.props.myList.map(item =>\n        <button onClick={(item) => this.handleButtonClick(item)}>\n          Hey, click-me !\n        </button>\n      }\n    </div>);\n  }\n}\n")))}u.isMDXComponent=!0},122:function(e,n,t){"use strict";t.d(n,"a",(function(){return b})),t.d(n,"b",(function(){return m}));var a=t(0),r=t.n(a);function o(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){o(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function s(e,n){if(null==e)return{};var t,a,r=function(e,n){if(null==e)return{};var t,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||(r[t]=e[t]);return r}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)t=o[a],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var l=r.a.createContext({}),d=function(e){var n=r.a.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):c({},n,{},e)),t},b=function(e){var n=d(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=Object(a.forwardRef)((function(e,n){var t=e.components,a=e.mdxType,o=e.originalType,i=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),b=d(t),p=a,m=b["".concat(i,".").concat(p)]||b[p]||u[p]||o;return t?r.a.createElement(m,c({ref:n},l,{components:t})):r.a.createElement(m,c({ref:n},l))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var o=t.length,i=new Array(o);i[0]=p;var c={};for(var s in n)hasOwnProperty.call(n,s)&&(c[s]=n[s]);c.originalType=e,c.mdxType="string"==typeof e?e:a,i[1]=c;for(var l=2;l<o;l++)i[l]=t[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,t)}p.displayName="MDXCreateElement"},123:function(e,n,t){var a;!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var a=arguments[n];if(a){var o=typeof a;if("string"===o||"number"===o)e.push(a);else if(Array.isArray(a)&&a.length){var i=r.apply(null,a);i&&e.push(i)}else if("object"===o)for(var c in a)t.call(a,c)&&a[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(a=function(){return r}.apply(n,[]))||(e.exports=a)}()},125:function(e,n,t){"use strict";var a=t(0);const r=Object(a.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{}});n.a=r},129:function(e,n,t){"use strict";var a=t(0),r=t.n(a);n.a=function(e){return r.a.createElement("div",null,e.children)}},130:function(e,n,t){"use strict";var a=t(0),r=t.n(a),o=t(125);var i=function(){return Object(a.useContext)(o.a)},c=t(123),s=t.n(c),l=t(92),d=t.n(l);const b=37,u=39;n.a=function(e){const{block:n,children:t,defaultValue:o,values:c,groupId:l}=e,{tabGroupChoices:p,setTabGroupChoices:m}=i(),[h,f]=Object(a.useState)(o);if(null!=l){const e=p[l];null!=e&&e!==h&&f(e)}const O=e=>{f(e),null!=l&&m(l,e)},j=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:s()("tabs",{"tabs--block":n})},c.map(({value:e,label:n})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":h===e,className:s()("tab-item",d.a.tabItem,{"tab-item--active":h===e}),key:e,ref:e=>j.push(e),onKeyDown:e=>((e,n,t)=>{switch(t.keyCode){case u:((e,n)=>{const t=e.indexOf(n)+1;e[t]?e[t].focus():e[0].focus()})(e,n);break;case b:((e,n)=>{const t=e.indexOf(n)-1;e[t]?e[t].focus():e[e.length-1].focus()})(e,n)}})(j,e.target,e),onFocus:()=>O(e),onClick:()=>O(e)},n))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},a.Children.toArray(t).filter(e=>e.props.value===h)[0]))}}}]);